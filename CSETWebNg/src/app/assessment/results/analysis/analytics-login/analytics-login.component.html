<div class="modal-box max-w-md" (keydown.enter)="submit()">
  <div class="flex items-center gap-3 mb-6">
    <span class="cset-icons-key-shield text-2xl text-primary"></span>
    <h3 class="font-bold text-lg">Login to Data Submission</h3>
  </div>
  <div class="space-y-4">

    <div class="container">
      <form [formGroup]="dataloginForm">
        <div class="mb-4">
          <p>
            Enter your account credentials for the CSET Enterprise server.
          </p>
          <p>
            If you do not have an account, use the browser interface to create a new account.
          </p>
        </div>
        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Username</span>
          </label>
          <div class="relative">
            <input type="text" trim="blur" placeholder="Username" formControlName="username"
              class="input input-bordered w-full pl-10">
            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/70">
              <i class="fa-solid fa-user"></i>
            </span>
          </div>
          <label class="label" *ngIf="dataloginForm.controls.username.hasError('required')">
            <span class="label-text-alt text-error">Username is <strong>required</strong></span>
          </label>
        </div>

        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Password</span>
          </label>
          <div class="relative">
            <input [type]="hidePassword ? 'password' : 'text'" trim="blur" placeholder="Password"
              formControlName="password" class="input input-bordered w-full pl-10 pr-12">
            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/70">
              <i class="fa-solid fa-lock"></i>
            </span>
            <button (click)="hidePassword = !hidePassword" type="button"
              class="absolute right-3 top-1/2 transform -translate-y-1/2 btn btn-ghost btn-sm btn-circle">
              <i class="fa-solid" [class.fa-eye]="hidePassword" [class.fa-eye-slash]="!hidePassword"></i>
            </button>
          </div>
          <label class="label" *ngIf="dataloginForm.controls.password.hasError('required')">
            <span class="label-text-alt text-error">Password is <strong>required</strong></span>
          </label>
        </div>
        <div *ngIf="error" class="alert alert-error">
          <i class="fa-solid fa-circle-exclamation"></i>
          <span>{{ error }}</span>
        </div>
      </form>
    </div>
  </div>
  <div class="modal-action">
    <button class="btn btn-ghost" (click)="close()">Cancel</button>
    <button class="btn btn-primary" (click)="submit()" [disabled]="uploadInProgress">
      <span *ngIf="uploadInProgress" class="loading loading-spinner loading-sm"></span>
      Login and Sync
    </button>
  </div>
</div>